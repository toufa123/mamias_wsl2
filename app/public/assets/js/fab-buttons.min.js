!function(e){"use strict";window.fabButton=function(){this.element=null,this.menuType="menu",this.overlay=null,this.refreshButton=null,this.captchaExist=!1,this.n1=0,this.n2=0,this.action=null,this.resultBox=null;this.loadingBox=null;arguments[0]&&"object"==typeof arguments[0]&&(this.options=o({selectorId:null,zIndex:9999,autoOpen:!1,overlay:!1,overlayColor:"rgba(0,0,0,0.4)",overlayClose:!0,panelWidth:300,position:"bottom-right",positionType:"fixed",horizontal:!1,cookieAlert:!1,cookieExpireDay:365,cookieAcceptButtonId:null,cookieName:"fab_cookiealert",onAfterOpen:null,onBeforeOpen:null,onAfterClose:null,onBeforeClose:null,onInit:null,disableFabButtonEvent:!1},arguments[0])),t.call(this)},fabButton.prototype.close=function(){c.call(this)},fabButton.prototype.show=function(){r.call(this)},fabButton.prototype.destroy=function(){this.element.remove(),this.options.overlay&&this.overlay.remove()};var s=function(e,t){var o=e.getAttribute("data-required"),n=e.getAttribute("data-validation");if("captcha"===e.getAttribute("name")){var i=null;return"-"==t.action?i=t.n1-t.n2:"+"==t.action&&(i=t.n1+t.n2),parseInt(e.value,10)===i}return"true"===o||!0===o?""!==e.value.trim()&&("email"===n?h(e.value):"number"!==n||u(e.value)):""===e.value.trim()||("email"===n?h(e.value):"number"!==n||u(e.value))},a=function(e){e.preventDefault();var t=this.element.getElementsByClassName("m-fab-element"),o=!0;this.resultBox.innerHTML="";for(var n={},i=0;i<t.length;i++)!1===s(t[i],this)?(t[i].classList.add("m-fab-error"),o=!1):("captcha"!==t[i].getAttribute("name")&&(n[t[i].getAttribute("name")]=t[i].value),t[i].classList.remove("m-fab-error"));!0===o&&function(e,t){m.call(t);var o=new XMLHttpRequest;o.onreadystatechange=function(){t.loadingBox.remove();try{var e=JSON.parse(o.responseText);4==this.readyState&&200==this.status&&(!0!==e.success&&"true"!==e.success||function(){for(var e=this.element.getElementsByClassName("m-fab-element"),t=0;t<e.length;t++)e[t].classList.remove("m-fab-error"),e[t].value=""}.call(t),t.resultBox.innerHTML=e.message)}catch(e){}};var n=t.element.querySelector("form").getAttribute("action");o.open("POST",n,!0),o.setRequestHeader("Content-type","application/x-www-form-urlencoded"),o.send(p(e))}(n,this),this.captchaExist&&l.call(this)},l=function(){this.n1=Math.floor(10*Math.random()),this.n2=Math.floor(10*Math.random());var e=Math.floor(2*Math.random());if(this.action="-",1==e&&(this.action="+"),this.n1<this.n2&&"-"===this.action){var t=this.n1;this.n1=this.n2,this.n2=t}var o="<span>"+this.n1+"</span><span>"+this.action+"</span><span>"+this.n2+"</span><span>=</span>";this.element.querySelector(".m-fab-numbers").innerHTML=o,this.element.querySelector('input[name="captcha"]').value=""},r=function(){var e=this;"function"==typeof e.options.onBeforeOpen&&e.options.onBeforeOpen.call(e),e.element.classList.add("m-fab-show"),this.captchaExist&&l.call(this),e.options.overlay&&e.overlay.classList.add("m-fab-overlay-show"),setTimeout(function(){e.element.classList.add("m-showing"),e.options.overlay&&e.overlay.classList.add("m-fab-overlay-showing")},20),setTimeout(function(){"function"==typeof e.options.onAfterOpen&&e.options.onAfterOpen.call(e)},300)},c=function(){var e=this;"function"==typeof e.options.onBeforeClose&&e.options.onBeforeClose.call(e),e.element.classList.remove("m-showing"),e.options.overlay&&e.overlay.classList.remove("m-fab-overlay-showing"),setTimeout(function(){e.element.classList.remove("m-fab-show"),e.options.overlay&&e.overlay.classList.remove("m-fab-overlay-show"),"function"==typeof e.options.onAfterClose&&e.options.onAfterClose.call(e)},300)},t=function(){var e=this.options.selectorId.charAt(0),t=this.options.selectorId.substring(1,this.options.selectorId.length),o=this;if("#"===e){if(this.element=document.getElementById(t),this.options.overlay&&function(){var e=this;e.overlay=document.createElement("div"),e.options.overlayClose?e.overlay.className="m-fab-overlay m-fab-overlay-close":e.overlay.className="m-fab-overlay",e.overlay.style.cssText="z-index:"+(e.options.zIndex-1)+"; background:"+e.options.overlayColor,document.body.appendChild(e.overlay),e.options.overlayClose&&e.overlay.addEventListener("click",function(){e.close()})}.call(this),this.options.cookieAlert){if(""!==v(this.options.cookieName))return this.destroy(),!1;null!==this.options.cookieAcceptButtonId&&document.getElementById(this.options.cookieAcceptButtonId).addEventListener("click",function(e){e.preventDefault(),d(o.options.cookieName,"yes",o.options.cookieExpireDay),o.destroy()})}"bottom-right"!==this.options.position&&"bottom-left"!==this.options.position&&"top-left"!==this.options.position&&"top-right"!==this.options.position||this.element.classList.add("m-"+this.options.position),this.options.horizontal&&this.element.classList.add("m-fab-horizontal"),"fixed"!==this.options.positionType&&"absolute"!==this.options.positionType&&"relative"!==this.options.positionType||this.element.classList.add("m-fab-"+this.options.positionType),this.element.querySelector(".m-fab-button").addEventListener("click",function(){this.element.classList.contains("m-fab-show")?!1===this.options.disableFabButtonEvent&&c.call(this):r.call(this)}.bind(this)),this.element.style.cssText="display:inline-block; z-index:"+this.options.zIndex;var n=this.element.querySelector(".m-fab-captcha");null!=n&&"undefined"!==n&&(this.captchaExist=!0,l.call(this),this.element.querySelector(".m-fab-refresh").addEventListener("click",l.bind(this)));var i=this.element.querySelector("form");null!=i&&"formExist"!==i&&(i.addEventListener("submit",a.bind(this)),f.call(this)),void 0!==this.element.querySelector(".m-fab-panel")&&null!==this.element.querySelector(".m-fab-panel")&&"undefined"!==this.element.querySelector(".m-fab-panel")&&(this.element.querySelector(".m-fab-panel").style.cssText="width:"+this.options.panelWidth+"px"),"function"==typeof o.options.onInit&&o.options.onInit.call(o),!0===this.options.autoOpen&&this.element.querySelector(".m-fab-button").click()}else console.log('Unexpected selector. Please set selectorId like this: "#selectorId" ')},o=function(e,t){var o;for(o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);return e},h=function(e){return/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(e).toLowerCase())},u=function(e){return!isNaN(parseFloat(e))&&isFinite(e)},p=function(e){var t="";for(var o in e)""!=t&&(t+="&"),t+=o+"="+encodeURIComponent(e[o]);return t},m=function(){this.loadingBox=document.createElement("div"),this.loadingBox.className="m-fab-loading";this.loadingBox.innerHTML='<div class="m-fab-spinner"><div class="m-fab-bounce1"></div><div class="m-fab-bounce2"></div><div class="m-fab-bounce3"></div></div>',this.element.querySelector(".m-fab-panel").appendChild(this.loadingBox)},f=function(){this.resultBox=document.createElement("div"),this.resultBox.className="m-message-box",this.resultBox.innerHTML="",this.element.querySelector("form").appendChild(this.resultBox)},d=function(e,t,o){var n=new Date;n.setDate(n.getDate()+o);var i="expires="+n.toUTCString();document.cookie=e+"="+t+";"+i+";path=/"},v=function(e){for(var t=e+"=",o=document.cookie.split(";"),n=0;n<o.length;n++){for(var i=o[n];" "==i.charAt(0);)i=i.substring(1);if(0==i.indexOf(t))return i.substring(t.length,i.length)}return""}}(),"remove"in Element.prototype||(Element.prototype.remove=function(){this.parentNode&&this.parentNode.removeChild(this)});